syntax = "proto3";
option go_package = "github.com/KKhimmoon/yuemnoi-reserve";

message Item {
    uint64 id = 1;           
    string name = 2;     
}
// The item service definition.
service ItemService {
    rpc CreateItem(CreateItemRequest) returns (CreateItemResponse);
}

// The request message containing the item's details.
message CreateItemRequest {
    string name = 1;
}

// The response message containing the result of the creation.
message CreateItemResponse {
    string message = 1;
}

enum LendingRequestStatus {
    // Default value when the status is not set
    PENDING = 0;
    ACCEPT = 1;
    REJECT = 2;
}

// The reserve message representing the structure of the Reserve object
message LendingRequest {
    uint64 id = 1;           
    string lending_user_id = 2;
    string borrowing_user_id = 3;
    string post_id = 4;   
    LendingRequestStatus status = 5;
    bool activeStatus = 6;
}

// Request message for creating a new Reserve
message CreateLendingRequestRequest {
    string lending_user_id = 1;
    string borrowing_user_id = 2;
    string post_id = 3;
}

// Response message for the CreateReserve service
message CreateLendingRequestResponse {
    uint64 id = 1;            
    string message = 2;       
}

// Request message for fetching Reserve details
message GetLendingRequestDetailRequest {
    uint64 id = 1;
}

message RejectLendingRequestRequest {
    uint64 id = 1;
}

message AcceptLendingRequestRequest {
    uint64 id = 1;
}

message ReturnItemRequest {
    uint64 id = 1;
}

service ReserveService {
    rpc CreateLendingRequest(CreateLendingRequestRequest) returns (CreateLendingRequestResponse) {}
    rpc GetLendingRequestDetail(GetLendingRequestDetailRequest) returns (LendingRequest) {}
    rpc RejectLendingRequest(RejectLendingRequestRequest) returns (LendingRequest) {}
    rpc AcceptLendingRequest(AcceptLendingRequestRequest) returns (LendingRequest) {}
    rpc ReturnItem(ReturnItemRequest) returns (LendingRequest) {}
}